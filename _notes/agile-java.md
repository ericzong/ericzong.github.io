---
layout: page
title: Agile Java
category: Java
author: "Eric Zong"
---

* content
{:toc}

# 面向对象

为什么要面向对象？ 
合适的面向对象可以在应用软件成熟和扩展过程中，提高管理维护的能力。

什么是对象？ 
对象是某些相关概念在代码级别的抽象。

抽象最好的定义是：放大本质，去掉无关的内容。

封装：对系统中的其他对象，隐藏所有不必要的细节。

什么是类？
类提供了一种方式来定义一组相关对象的共同性。类是一个模板，或者蓝本，用以创建新的对象。

对象是行为和属性的组合。

# UML

UML展现的不是设计，而是设计的模型。代码就是设计。

继承也是一种有向关联。

UML规定用减号（-）表示private访问控制权限，用波浪号（~）表示包访问控制权限。

# 规则

用更有表现力的代码替代注释。  

单职责原则，使得类的改变应该只有一个动机。 

尽可能保护代码，只在必要的时候，放开访问控制。  

Jeff静态规则：直到确信需要使用静态，才使用静态。  
>软件理论和其它科学理论并没有本质上的不同，一个小小的知识可能需要长期观察总结才被得到。  

系统中，使用接口提供抽象层，从而有助于消除重复。

设计系统，通过扩展来拥抱变化。不要通过修改来适应变化。

最好使用接口类型的变量以及参数。

相对重写，最好使用扩展。

使用面向意图编程，把某个问题分解成若干更小的目标。

面向对象的集合类优于数组。

避免传递异常，但也不要创建空catch块。

# Java 知识

Java软件人员的职责之一是：时刻警惕，一旦发现重复，立刻着手去消除它。

工具方法：接受参数进行处理并返回一个值的方法。在别的语言中称函数。
>通常，"函数"这一概念多见于面向过程的语言中，面向对象的语言中称"方法"。但从概念上来说，方法与函数是类似的，尤其是静态方法，而实例方法则需要与实例对象关联。

使用静态导入的可能理由之一是：简化对多个类常量的调用，而这些类常量定义在一个地方。

将一组常量放到一个没有行为（方法）的类中，这是一种受到置疑的面向对象设计。
谨慎地使用静态导入。因为静态导入使得类方法和类变量的定义位置变得模糊。

静态是非面向对象的，不应过度使用。

构造函数链（this）是帮助消除重复的有用工具。

浮点数是真实数字基于位模式的近似值。因为真实数字是一个无限集合，而浮点数只是一个提供32位或64位精度的有限集合，故不可能表示所有真实数字。

过度使用if语句，将很快使代码变得难以维护。多态的概念可以帮助重组代码，最小化使用if语句的需要。

Case标记只是一个标记，JVM仅在初次遇到switch语句时才使用case标记。
>由于仅仅是标记，所以switch的"贯穿"行为就很好理解了。

在子类中以某种方式，定制基类方法中的行为，而不是彻底改变基类方法。

使用递归一定要注意递归的终止条件，所以递归中需要防卫子句。

三元操作符源自C语言。

类型转换不会对被转换对象进行任何修改，只是针对同一块内存区域创建了一个新的引用（目标转换类型）。

Java最多支持255维的数组。

使用BigDecimal有两个主要缺点：  
1. 硬件可以优化浮点运算，但是BigDecimal的十进制运算通过软件实现。 BigDecimal进行非常大量的数学运算，可能面临性能问题。  
2. 没有支持BigDecimal的数学运算符。必须通过方法调用来完成加法、乘法等运算。会导致代码冗长，难以编写和阅读。

Java 内部使用二进制存储数字，抛弃任何溢出的位。 
浮点数溢出会导致无穷大。

将嵌套类声明为静态的原因：1. 让其它类可以使用；2. 允许将其序列化。

# 测试

如果测试需要的private信息越多，那么耦合和依赖就越紧密。紧密的耦合意味着很难在不影响测试类的情况下去修改生产类。

---
2017/4/22 记 （完）



